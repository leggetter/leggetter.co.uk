<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <title>Creating a realtime jQuery plugin | Webdesigner Depot</title>

    <style>
      body {
        font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
      }
      #bitcoin_prices {
        border-spacing: 0;
      }
      #bitcoin_prices thead {
        background-color: gray;
      }
      #bitcoin_prices tbody tr:nth-child(odd) {
        background-color: #fff;
      }
      #bitcoin_prices tbody tr:nth-child(even) {
        background-color: #ccc;
      }
      #bitcoin_prices tbody tr td:nth-child(1) {
        background-color: yellow;
      }
      #bitcoin_prices td {
        padding: 4px 10px;
      }

      #logs {
        font-family: courier-new;
        font-size: 11px;
        list-style: none;
      }

      .warn {
        background-color: orange;
        padding: 5px;
        margin: 5px;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
		<h1>Bitcoin Fake Prices</h1>
    
    <div class="warn">Please note that I've turned off the application that generates the live data. So, you won't see any realtime data streaming into the demo any more. Sorry about that.</div>

    <table id="bitcoin_prices">
      <thead>
        <tr>
          <th></th>
          <th>Last</th>
          <th>Low</th>
          <th>High</th>
          <th>Volume</th>
        </tr>
      </thead>
      <tbody>
        <tr data-rt-channel="btc-usd-demo"
            data-rt-event="new-price">
          <td>BTC/USD</td>
          <td data-rt-value="last">61.157 USD</td>
          <td data-rt-value="low">51 USD</td>
          <td data-rt-value="high">95.713 USD</td>
          <td data-rt-value="volume">66271 BTC / 4734629 USD</td>
        </tr>
        <tr data-rt-channel="btc-gbp-demo"
            data-rt-event="new-price">
          <td>BTC/GBP</td>
          <td data-rt-value="last">61.157 GBP</td>
          <td data-rt-value="low">51 GBP</td>
          <td data-rt-value="high">95.713 GBP</td>
          <td data-rt-value="volume">66271 BTC / 4734629 GBP</td>
        </tr>
        <tr data-rt-channel="btc-jpy-demo"
            data-rt-event="new-price">
          <td>BTC/JPY</td>
          <td data-rt-value="last">61.157 JPY</td>
          <td data-rt-value="low">51 JPY</td>
          <td data-rt-value="high">95.713 JPY</td>
          <td data-rt-value="volume">66271 BTC / 4734629 JPY</td>
        </tr>
        <tr data-rt-channel="btc-aus-demo"
            data-rt-event="new-price">
          <td>BTC/AUS</td>
          <td data-rt-value="last">61.157 AUS</td>
          <td data-rt-value="low">51 AUS</td>
          <td data-rt-value="high">95.713 AUS</td>
          <td data-rt-value="volume">66271 BTC / 4734629 AUS</td>
        </tr>
      </tbody>
    </table>

    <h3>Debug</h3>
    <ul id="logs"></ul>

    <script src="http://js.pusher.com/2.0/pusher.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="../../src/jquery.realtime.js"
            data-rt-key="7b9f9ade2135118a915b"></script>
    <script>
      $( function() {
        var els = $( '#bitcoin_prices' ).realtime()
        els.realtime.log = debug;
      } );

      function debug( msg ) {
        var logs = $( '#logs' );
        logs.prepend( '<li>' + msg + '</li>' );
        if( logs.find( 'li' ).size() > 30 ) {
          logs.find( 'li:last-child' ).remove();
        }
      }
    </script>

    <a href="https://github.com/leggetter/jquery.realtime/tree/wdd-tutorial"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://a248.e.akamai.net/camo.github.com/7afbc8b248c68eb468279e8c17986ad46549fb71/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub"></a>

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-513034-10");
    pageTracker._initData();
    pageTracker._trackPageview();
    </script>

  </body>
</html>