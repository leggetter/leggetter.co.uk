<!DOCTYPE HTML>
<html lang="en">
<head>
	
	<title>WebSockets realise Comet. They're not an alternative. - Phil Leggetter - Developer Experience & Relations Leader</title>
	

	<meta property="og:title" content="WebSockets realise Comet. They're not an alternative." />
	<meta property="og:type" content="article" />
	<meta property="og:url" content="https://www.leggetter.co.uk/2012/04/22/websockets-realise-comet-theyre-not-an-alternative.html" />
	<meta property="og:description" content="Comet is an umbrella term for all the old HTTP-based hacks and is a phrase we want to get rid of. WebSockets are where we want to be; browsers and beyond. I’ve been thinking about writing about this frequently used statement for a while, and I’ve seen a few comments and discussions previously about this." />
	

	<meta http-equiv="content-type" content="text/html; charset=utf-8" />

	<meta name="description" content="Comet is an umbrella term for all the old HTTP-based hacks and is a phrase we want to get rid of. WebSockets are where we want to be; browsers and beyond. I’ve been thinking about writing about this frequently used statement for a while, and I’ve seen a few comments and discussions previously about this." />
	
	<meta name="keywords" content="cometwebsocketsrealtime webapi-fanboyRealime PushRealtime browser push" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link rel="alternate" type="application/rss+xml" title="Phil Leggetter's Blog" href="/rss.xml" />
	
	
	<!--[if lte IE 8]><script src="/skel/assets/js/ie/html5shiv.js"></script><![endif]-->
	<link rel="stylesheet" href="/skel/assets/css/main.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="/skel/assets/css/ie8.css" /><![endif]-->
	<link rel="stylesheet" href="/css/skel-mods.css" />

  <link rel="stylesheet" href="/libs/highlight/styles/solarized_dark.css" />
	
	<script src="/skel/assets/js/jquery.min.js"></script>
</head>
<body class="right-sidebar ">

	<!-- Header -->
	<div id="header-wrapper" class="wrapper">
		<div id="header">

  <!-- Logo -->
  <div id="logo">
    <h1><a href="/">Phil Leggetter</a></h1>
    <p>VP of Developer Experience at <a href="https://ably.com" style="color: #fff;">Ably</a> and a Developer Experience and Relations Advisor</p>
  </div>

  <!-- Nav -->
  <nav id="nav">
    <ul>
      <li class="current"><a href="/"><img class="logo-sml" src="/images/leggetter-logo-trans-sml.png" title="Phil Leggetter - Home" alt="Phil Leggetter logo" /></a></li>
      <li>
        <a href="/aaarrrp" title="The AAARRRP Developer Relations Strategy Framework">AAARRRP</a>
      </li>
      <li>
        <a href="/real-time-web-technologies-guide/">Realtime Web Guide</a>
        <ul>
          <li><a href="/real-time-web-technologies-guide">Realtime Web Technology Guide</a></li>
          <li><a href="/2013/10/28/history-background-benefits-use-cases-realtime.html">History, Background, Benefits &amp; Use Cases of Realtime</a></li>
          <li><a href="/2013/10/31/fundamentals-realtime-web-realtime-web-functionality.html">Fundamentals of the Realtime Web & Realtime Web Functionality</a></li>
          <li><a href="/2013/12/09/choosing-realtime-web-app-tech-stack.html">Choosing your Realtime Web App Tech Stack</a></li>
          <li><a href="/real-time-web-technologies-guide/developer-tools/">Developer Tools</a></li>
          <li><a href="/real-time-web-technologies-guide/realtime-hosted-service-latency/">Realtime Hosted Service Latency Stats</a></li>
          <li><a href="/real-time-web-technologies-guide/realtime-data-sources/">Realtime Data Sources</a></li>
          <li><a href="/real-time-web-technologies-guide/realtime-web-technology-transport-mechanisms/">Transport Mechanisms</a></li>
        </ul>
      </li>
      <li><a href="/about-phil-leggetter/">About Phil Leggetter</a>
        <ul>
          <li><a href="/leggetter-family-tree">The Unique Name of Leggetter</a></li>
          <li><a href="/mygoffice">My Goffice</a></li>
        </ul>
      </li>
      <li><a href="#contact-me">Contact Me</a></li>
    </ul>
  </nav>

</div>

	</div>

	<!-- Main -->
	<div class="main-wrapper wrapper style2">

    <div class="title">
			<a href="https://twitter.com/leggetter"><i class="fa fa-twitter-square fa2"></i></a>
<a href="http://www.linkedin.com/in/leggetter"><i class="fa fa-linkedin-square fa2"></i></a>
<a href="https://github.com/leggetter"><i class="fa fa-github-square fa2"></i></a>
<a href="http://stackoverflow.com/users/39904/leggetter"><i class="fa fa-stack-overflow fa2"></i></a>

		</div>

    <div id="main" class="container">
      <div class="row 150%">
        <div class="8u 12u(mobile)">
          <div id="content">
            <h1>WebSockets realise Comet. They're not an alternative.</h1>
<p class="meta">22 Apr 2012</p>

<div class="post">
<p><strong>Update</strong></p>
<p>My opinion, indicated in the comments below, is now:</p>
<blockquote>
<p>Comet is an umbrella term for all the old HTTP-based hacks and is a phrase we want to get rid of. WebSockets are where we want to be; browsers and beyond.</p>
</blockquote>
<p>Below is the old post covering my original opinion:</p>
<hr />

<blockquote>
<p>"WebSockets or Comet"</p>
</blockquote>
<p>I’ve been thinking about writing about this frequently used statement for a while, and I’ve seen a few comments and discussions previously about this e.g. from <a href="http://twitter.com/martintyler">Martin Tyler</a> of <a href="http://www.caplin.com">Caplin Systems</a> and Peter Lubbers of <a href="http://kaazing.com">Kaazing</a> in a <a href="http://www.infoq.com/articles/Web-Sockets-Proxy-Servers#view_54559">post on InfoQ</a>).</p>
<p>Martin's point of view is:</p>
<blockquote>
<p>One thing I don't understand is your stance on Comet. You seem to want to distance Kaazing from Comet, despite the fact that your WebSocket emulation is surely Comet. More than this though, WebSocket itself is also Comet since Comet is just a paradigm, not a any specific transport mechanism.</p>
</blockquote>
<p>Peter's opinion is:</p>
<blockquote>
<p>Comet is a programming model that allows a web server to push data to a browser. This is often achieved through a long-held HTTP request, but there really is no standard or specification for Comet; it is just an umbrella term for all the different ways that can be used to achieve this.</p>
<p>WebSocket, on the other hand, is a well-defined API and protocol that allows for full-duplex, bidirectional communication (not just server push).</p>
</blockquote>
<p>Can you really say WebSockets is an alternative to Comet when Comet servers use WebSockets?</p>
<p>My current thinking is the same as Martin's (I did used to work with Martin). It is that:</p>
<p><strong>Comet is a paradigm, not only for server push but also for bi-directional communication.</strong></p>
<p>The need to do this with a web browser resulted in WebSockets – something which natively supported this in a way that HTTP did not. So, we have Comet to thank for WebSockets.</p>
<p>The <a href="http://en.wikipedia.org/wiki/Comet_&#40;programming&#41;">Wikipedia Comet entry</a> states:</p>
<blockquote>
<p>Comet is a web application model in which a long-held HTTP request allows a web server to push data to a browser, without the browser explicitly requesting it. Comet is an umbrella term, encompassing multiple techniques for achieving this interaction.</p>
</blockquote>
<p>Alex Russell’s <a href="http://infrequently.org/2006/03/comet-low-latency-data-for-the-browser/">original Comet blog post</a> states:</p>
<blockquote>
<p>Fundamentally, they all use long-lived HTTP connections to reduce the latency with which messages are passed to the server.</p>
<p>The architecture relies on a view of data which is event driven on both sides of the HTTP connection.</p>
</blockquote>
<p>All very HTTP related. <strong>But</strong> the second quote interestingly says <strong>“event driven on both sides”</strong>. This bi-directional communication, backed up by the diagram from the web post (see below), seems to have been lost in the wikipedia entry.</p>
<p>
<figure>
  <img alt="Original Comet diagram by Alex Russell" src="/images/Comet.png" />&lt;/p&gt;
<figcaption>Original Comet diagram by Alex Russell. <small><a href="http://infrequently.org/2006/03/comet-low-latency-data-for-the-browser/">source</a></small></figcaption>
</figure>
<p>What I’m suggesting is that Comet is a paradigm for realtime bi-directional communication between a server and a client. Initially it used long-lived HTTP connections in addition to a second short-lived connection for command requests (e.g. subscribe) <strong>because it was the only solution</strong>. Comet servers now use WebSockets because they are now available, are better than the HTTP-based alternatives and help Comet (the paradigm) be achieved and finally truly realised in a standardised way.</p>
<p>I’m suggesting that HTTP Long-Polling or HTTP-Streaming (all using XMLHttpRequest, Script tag polling, IFRAMES, ActiveX objects) and WebSockets are transfer technologies (Martin used the term "transfer mechanism") that make the Comet paradigm possible.</p>
<p>I’m suggesting that saying “Comet or WebSockets” is an invalid statement and that the Wikipedia article is incorrect and that this diagram better reflects the relationship between WebSockets and Comet:</p>
<p>
<figure>
    <img alt="realtime web technology stack hierarchy" src="http://www.gliffy.com/pubdoc/2894748/L.png" />&lt;/p&gt;
<figcaption>Realtime web technology stack hierarchy</figcaption>
</figure>
<p>I’m prepared to be wrong by being convinced otherwise. But I don't think I am or will. Interested in hearing your opinions.</p>
<p><em>Note: I originally posted the core text to this as a <a href="http://jfarcand.wordpress.com/2012/04/19/websockets-or-comet-or-both-whats-supported-in-the-java-ee-land/#comment-2271">comment</a> on a blog post <a href="http://jfarcand.wordpress.com/2012/04/19/websockets-or-comet-or-both-whats-supported-in-the-java-ee-land/">"Websockets or Comet or Both? What’s supported in the Java EE land"</a></em></p>
</p></p>

</div>

<hr />

<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'leggetter';
var disqus_url = 'https://www.leggetter.co.uk/2012/04/22/websockets-realise-comet-theyre-not-an-alternative.html';



var disqus_identifier = '23220 https://www.leggetter.co.uk/?page_id=23220';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


          </div>
        </div>
        <div class="4u 12u(mobile)">
          <!-- Sidebar -->
<div id="sidebar">

  <section class="box">

  <form action="https://leggetter.us2.list-manage.com/subscribe/post?u=75fcbc606555d96262c1cd5bd&amp;id=e0524b92e7" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
    <header>
      <h2>Get posts via email</h2>
    </header>
    <div class="mc-field-group" style="margin-top: -25px;">
      <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Email Address" style="display:inline-block; margin:0; width: auto;">
      <input type="submit" value="Go" name="subscribe" id="mc-embedded-subscribe" class="button" style="display:inline-block; min-width: inherit; line-height: 1em;
      height: 3.1em;
      vertical-align: top;">
    </div>
    <div id="mce-responses" class="clear">
      <div class="response" id="mce-error-response" style="display:none"></div>
      <div class="response" id="mce-success-response" style="display:none"></div>
    </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;"><input type="text" name="b_75fcbc606555d96262c1cd5bd_e0524b92e7" value=""></div>
  </form>

  <!--End mc_embed_signup-->
</section>


  <section class="box about">

  <img class="avatar grav-hashed grav-hijack" src="https://www.gravatar.com/avatar/ecc56977271e781991b6172c16248459?s=400" align="center" alt="Phil Leggetter - Realtime Web Technology Evangelist" id="grav-ecc56977271e781991b6172c16248459-0" originals="200" width="200" height="200" src-orig="https://www.gravatar.com/avatar/ecc56977271e781991b6172c16248459?s=200" scale="2" style="margin: auto; margin-bottom: 2em; display: inherit;">
  <p>My name is <strong>Phil Leggetter</strong>. I'm VP of Developer Experience at <a href="https://ably.com">Ably</a> and a <strong>Developer Experience and Relations advisor</strong> at <a href="https://tru.id">tru.ID</a> and <a href="https://crosser.io">Crosser</a>.</p>

</section>


  <!-- <section class="box">
  <header>
    <h2><a href="http://www.amazon.com/gp/product/1430246200/ref=as_li_ss_il?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1430246200&amp;linkCode=as2&amp;tag=phillegg-20">Realtime Web Apps: With HTML5 WebSocket, PHP, and jQuery</a></h2>
  </header>
  <div style="text-align: center; margin-top: 10px;">
    <a href="http://www.amazon.com/gp/product/1430246200/ref=as_li_ss_il?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1430246200&amp;linkCode=as2&amp;tag=phillegg-20"><img border="0" src="https://www.leggetter.co.uk/wp-content/uploads/2013/04/realtime-web-apps-sml.jpg" scale="0"></a><img src="https://www.assoc-amazon.com/e/ir?t=phillegg-20&amp;l=as2&amp;o=1&amp;a=1430246200" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" scale="0">
    <p>Buy the book I co-write with <a href="http://lengstorf.com/">Jason Lengstorf</a> via <a href="http://www.amazon.com/gp/product/1430246200/ref=as_li_ss_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1430246200&amp;linkCode=as2&amp;tag=phillegg-20">Amazon.com</a> or <a href="http://j.mp/realtime-web-apps-uk">Amazon.co.uk</a></p>
  </div>
</section>
 -->

</div>

        </div>
      </div>
    </div>
	</div>
	<!-- /Main -->

	<!-- Footer Wrapper -->
	<div id="footer-wrapper" class="wrapper">
		<div class="title">Get In Touch</div>
		<div id="footer" class="container">

				<!-- Contact -->
				<a name="contact-me" id="contact-me"></a>
				<section class="feature-list small">
					<div class="row">
	          <div class="-2u 4u">
	            <section>
	              <h3 class="icon fa-comment">Social</h3>
	              <p>
									<a href="https://twitter.com/leggetter"><i class="fa fa-twitter-square fa2"></i></a>
<a href="http://www.linkedin.com/in/leggetter"><i class="fa fa-linkedin-square fa2"></i></a>
<a href="https://github.com/leggetter"><i class="fa fa-github-square fa2"></i></a>
<a href="http://stackoverflow.com/users/39904/leggetter"><i class="fa fa-stack-overflow fa2"></i></a>

	              </p>
	            </section>
	          </div>
						<div class="-1u 4u">
							<section>
								<h3 class="icon fa-envelope">Email</h3>
								<p>
									<a href="mailto:phil@leggetter.co.uk">phil@leggetter.co.uk</a>
								</p>
							</section>
						</div>
					</div>
				</section>

			</div>

			<hr />

			<div id="copyright">
				<ul>
					<li>&copy; Phil Leggetter.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
				</ul>
			</div>

		</div>
		<!-- / Footer Wrapper -->

	</div>
	
	<script src="/skel/assets/js/jquery.dropotron.min.js"></script>
	<script src="/skel/assets/js/skel.min.js"></script>
	<script src="/skel/assets/js/skel-viewport.min.js"></script>
	<script src="/skel/assets/js/util.js"></script>
	<!--[if lte IE 8]><script src="/skel/assets/js/ie/respond.min.js"></script><![endif]-->
	<script src="/skel/assets/js/main.js"></script>
	
	<script src="/bower_components/jquery-smooth-scroll/jquery.smooth-scroll.min.js"></script>

	<script>
		( function() {
			try {
				$( 'a[href="#contact-me"]' ).smoothScroll();
			} catch(e){}
		} )();
	</script>

  <script src="/libs/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

	<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-513034-10', 'auto');
ga('send', 'pageview');

</script>


	<!-- realtime benchmarks -->
	<!--script src="//cdnjs.cloudflare.com/ajax/libs/headjs/1.0.3/head.min.js"></script-->
	<!-- <script src="http://localhost:5000/benchmark.js"></script> -->
	<!--script src="https://realtime-latency-stats.herokuapp.com/benchmark.js"></script-->
</body>
</html>
<!--
Escape Velocity by HTML5 UP
html5up.net | @n33co
Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
